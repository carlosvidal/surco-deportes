{
  "permissions": {
    "allow": [
      "Bash(chmod:*)",
      "Bash(tree:*)",
      "Bash(psql:*)",
      "Bash(cat:*)",
      "Bash(npm run prisma:migrate:*)",
      "Bash(npx prisma migrate:*)",
      "Bash(npm run prisma:seed:*)",
      "Bash(lsof:*)",
      "Bash(kill:*)",
      "Bash(npm install:*)",
      "Bash(curl:*)",
      "Bash(pkill:*)",
      "Bash(python3:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXN1YXJpbyI6ImFkbWluIiwicm9sIjoiQURNSU5fTVVOSUNJUEFMIiwiaWF0IjoxNzY2NTMxNjM0LCJleHAiOjE3NjY1NzQ4MzR9.16OokAzryEroAXkmyflBW6U_N15WOSXnlsA8FAiPk-8\")",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\ncurl -s -X GET http://localhost:3000/api/consumos/activos -H \"\"Authorization: Bearer $TOKEN\"\"\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Token: ${TOKEN:0:50}...\"\"\ncurl -s -X GET http://localhost:3000/api/consumos/activos -H \"\"Authorization: Bearer $TOKEN\"\"\n')",
      "Bash(bash -c '\ncurl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" > /dev/null\nsleep 1\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Usando token...\"\"\ncurl -s -X GET http://localhost:3000/api/consumos/activos -H \"\"Authorization: Bearer $TOKEN\"\"\n')",
      "Bash(bash -c '\ncurl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" > /dev/null\necho \"\"Login done, esperando...\"\"\nsleep 1\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Token obtenido, probando endpoint...\"\"\ncurl -s -X GET http://localhost:3000/api/consumos/activos -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -m json.tool\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Token obtenido, probando endpoint de caja actual...\"\"\ncurl -s -X GET http://localhost:3000/api/caja/actual -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -m json.tool\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Abriendo caja con saldo inicial de S/ 50...\"\"\ncurl -s -X POST http://localhost:3000/api/caja/abrir -H \"\"Content-Type: application/json\"\" -H \"\"Authorization: Bearer $TOKEN\"\" -d \"\"{\\\"\"saldoInicial\\\"\": 50}\"\" | python3 -m json.tool\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Obteniendo resumen de la caja...\"\"\ncurl -s -X GET http://localhost:3000/api/caja/resumen -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -m json.tool\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Registrando venta de 4 horas en efectivo...\"\"\ncurl -s -X POST http://localhost:3000/api/compras -H \"\"Content-Type: application/json\"\" -H \"\"Authorization: Bearer $TOKEN\"\" -d \"\"{\\\"\"vecinoDni\\\"\":\\\"\"10060436\\\"\",\\\"\"horas\\\"\":4,\\\"\"metodoPago\\\"\":\\\"\"EFECTIVO\\\"\"}\"\" | python3 -m json.tool\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Registrando venta de 4 horas en Yape...\"\"\ncurl -s -X POST http://localhost:3000/api/compras -H \"\"Content-Type: application/json\"\" -H \"\"Authorization: Bearer $TOKEN\"\" -d \"\"{\\\"\"vecinoDni\\\"\":\\\"\"10060436\\\"\",\\\"\"horas\\\"\":4,\\\"\"metodoPago\\\"\":\\\"\"YAPE\\\"\",\\\"\"referencia\\\"\":\\\"\"123456\\\"\"}\"\" | python3 -m json.tool\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Resumen actualizado de la caja:\"\"\ncurl -s -X GET http://localhost:3000/api/caja/resumen -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -m json.tool\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Registrando venta de 8 horas en Efectivo...\"\"\ncurl -s -X POST http://localhost:3000/api/compras -H \"\"Content-Type: application/json\"\" -H \"\"Authorization: Bearer $TOKEN\"\" -d \"\"{\\\"\"vecinoDni\\\"\":\\\"\"10060436\\\"\",\\\"\"horas\\\"\":8,\\\"\"metodoPago\\\"\":\\\"\"EFECTIVO\\\"\"}\"\" | python3 -m json.tool\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Resumen final antes de cerrar caja:\"\"\ncurl -s -X GET http://localhost:3000/api/caja/resumen -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -m json.tool\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Cerrando caja con saldo declarado S/ 82...\"\"\ncurl -s -X POST http://localhost:3000/api/caja/cerrar -H \"\"Content-Type: application/json\"\" -H \"\"Authorization: Bearer $TOKEN\"\" -d \"\"{\\\"\"saldoDeclarado\\\"\":82,\\\"\"observaciones\\\"\":\\\"\"Cierre del día sin diferencias\\\"\"}\"\" | python3 -m json.tool\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Verificando caja actual después de cerrar...\"\"\ncurl -s -X GET http://localhost:3000/api/caja/actual -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -m json.tool\n')",
      "Bash(bash -c '\nTOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login -H \"\"Content-Type: application/json\"\" -d \"\"{\\\"\"usuario\\\"\":\\\"\"admin\\\"\",\\\"\"password\\\"\":\\\"\"admin123\\\"\"}\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[\\\"\"token\\\"\"])\"\")\necho \"\"Probando endpoint de alertas...\"\"\ncurl -s -X GET http://localhost:3000/api/consumos/alertas -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -m json.tool\n')",
      "Bash(git rev-parse:*)",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(gh auth:*)",
      "Bash(gh repo create:*)",
      "Bash(git push:*)",
      "Bash(git branch:*)"
    ],
    "deny": [],
    "ask": []
  }
}
